<!DOCTYPE html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chrome AI Assist - 設定</title>
    <link rel="stylesheet" href="options.css" />
  </head>
  <body>
    <div class="options-container">
      <!-- Header -->
      <header class="options-header">
        <div class="header-content">
          <div class="logo">
            <svg
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M12 2L2 7L12 12L22 7L12 2Z"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />
              <path
                d="M2 17L12 22L22 17"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />
              <path
                d="M2 12L12 17L22 12"
                stroke="currentColor"
                stroke-width="2"
                stroke-linejoin="round"
              />
            </svg>
            <span>API Configuration</span>
          </div>
        </div>
      </header>

      <!-- Main Content -->
      <main class="options-main">
        <!-- API Provider Section -->
        <section class="config-section">
          <h2>API Provider</h2>
          <div class="provider-selector">
            <select id="apiProviderSelect">
              <option value="bedrock">Amazon Bedrock</option>
              <option value="openai">OpenAI</option>
              <option value="anthropic">Anthropic</option>
            </select>
          </div>
        </section>

        <!-- Configuration Forms -->
        <div class="config-forms">
          <!-- AWS Bedrock Configuration -->
          <section class="config-section" id="bedrockConfig">
            <div class="auth-method">
              <label class="radio-label">
                <input
                  type="radio"
                  name="awsAuth"
                  value="credentials"
                  checked
                />
                <span>AWS Credentials</span>
              </label>
              <label class="radio-label">
                <input type="radio" name="awsAuth" value="profile" />
                <span>AWS Profile</span>
              </label>
            </div>

            <div class="form-group">
              <label for="awsAccessKey">AWS Access Key</label>
              <input
                type="password"
                id="awsAccessKey"
                placeholder="••••••••••••••••"
              />
            </div>

            <div class="form-group">
              <label for="awsSecretKey">AWS Secret Key</label>
              <input
                type="password"
                id="awsSecretKey"
                placeholder="••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••"
              />
            </div>

            <div class="form-group">
              <label for="awsSessionToken">AWS Session Token</label>
              <input
                type="password"
                id="awsSessionToken"
                placeholder="Enter Session Token..."
              />
            </div>

            <div class="form-group">
              <label for="awsRegion">AWS Region</label>
              <select id="awsRegion">
                <option value="us-east-1">us-east-1</option>
                <option value="us-west-2">us-west-2</option>
                <option value="eu-west-1">eu-west-1</option>
                <option value="ap-northeast-1">ap-northeast-1</option>
                <option value="ap-southeast-1">ap-southeast-1</option>
              </select>
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="useCustomVpcEndpoint" />
                <span>Use custom VPC endpoint</span>
              </label>
            </div>

            <div class="form-group" id="vpcEndpointGroup" style="display: none">
              <input
                type="text"
                id="vpcEndpointUrl"
                placeholder="Enter VPC Endpoint URL (optional)"
              />
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="useCrossRegion" />
                <span>Use cross-region inference</span>
              </label>
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="usePromptCaching" checked />
                <span>Use prompt caching</span>
              </label>
            </div>

            <div class="info-text">
              Authenticate by either providing the keys above or use the default
              AWS credentials providers, i.e. ~/.aws/credentials or environment
              variables. These credentials are only used locally to make API
              requests from this extension.
            </div>

            <div class="form-group">
              <label for="bedrockModel">Model</label>
              <select id="bedrockModel">
                <option value="us.anthropic.claude-opus-4-20250514-v1:0">
                  Claude Opus 4(us.anthropic.claude-opus-4-20250514-v1:0)
                </option>
                <option value="us.anthropic.claude-sonnet-4-20250514-v1:0">
                  Claude Sonnet 4(us.anthropic.claude-sonnet-4-20250514-v1:0)
                </option>
              </select>
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="enableExtendedThinking" />
                <span>Enable extended thinking</span>
              </label>
            </div>

            <div class="budget-section">
              <label for="budget"
                >Budget: <span id="budgetValue">3,624</span> tokens</label
              >
              <div class="budget-slider">
                <input
                  type="range"
                  id="budgetSlider"
                  min="1000"
                  max="10000"
                  value="3624"
                />
              </div>
              <div class="budget-help">
                Higher budgets may allow you to achieve more comprehensive and
                nuanced reasoning
              </div>
            </div>

            <div class="model-info">
              <div class="feature-list">
                <div class="feature">✓ Supports images</div>
                <div class="feature">✓ Supports browser use</div>
                <div class="feature">✓ Supports prompt caching</div>
              </div>
              <div class="pricing-info">
                <div>Max output: 8,192 tokens</div>
                <div>Input price: $3.00/million tokens</div>
                <div>Cache writes price: $3.75/million tokens</div>
                <div>Cache reads price: $0.30/million tokens</div>
                <div>Output price: $15.00/million tokens</div>
              </div>
            </div>
          </section>

          <!-- OpenAI Configuration -->
          <section
            class="config-section"
            id="openaiConfig"
            style="display: none"
          >
            <div class="form-group">
              <label for="openaiApiKey">OpenAI API Key</label>
              <input
                type="password"
                id="openaiApiKey"
                placeholder="••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••"
              />
              <div class="info-text">
                This key is stored locally and only used to make API requests
                from this extension.
              </div>
            </div>

            <div class="form-group">
              <label for="openaiModel">Model</label>
              <select id="openaiModel">
                <option value="gpt-4.1">gpt-4.1</option>
                <option value="gpt-4o">gpt-4o</option>
              </select>
            </div>

            <div class="model-info">
              <div class="feature-list">
                <div class="feature">✓ Supports images</div>
                <div class="feature">✓ Supports browser use</div>
                <div class="feature">✓ Supports prompt caching</div>
              </div>
              <div class="pricing-info">
                <div>Max output: 32,768 tokens</div>
                <div>Input price: $2.00/million tokens</div>
                <div>Cache reads price: $0.50/million tokens</div>
                <div>Output price: $8.00/million tokens</div>
              </div>
            </div>
          </section>

          <!-- Anthropic Configuration -->
          <section
            class="config-section"
            id="anthropicConfig"
            style="display: none"
          >
            <div class="form-group">
              <label for="anthropicApiKey">Anthropic API Key</label>
              <input
                type="password"
                id="anthropicApiKey"
                placeholder="••••••••••••••••••••••••••••••••••••••••••••••••••••••••••••"
              />
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="useCustomBaseUrl" />
                <span>Use custom base URL</span>
              </label>
            </div>

            <div
              class="form-group"
              id="customBaseUrlGroup"
              style="display: none"
            >
              <input
                type="text"
                id="customBaseUrl"
                placeholder="Default: https://api.anthropic.com"
              />
            </div>

            <div class="info-text">
              This key is stored locally and only used to make API requests from
              this extension.
            </div>

            <div class="form-group">
              <label for="anthropicModel">Model</label>
              <select id="anthropicModel">
                <option value="claude-opus-4-20250514">
                  claude-opus-4-20250514
                </option>
                <option value="claude-sonnet-4-20250514">
                  claude-sonnet-4-20250514
                </option>
              </select>
            </div>

            <div class="checkbox-group">
              <label class="checkbox-label">
                <input type="checkbox" id="anthropicExtendedThinking" />
                <span>Enable extended thinking</span>
              </label>
            </div>

            <div class="budget-section">
              <label for="anthropicBudget"
                >Budget:
                <span id="anthropicBudgetValue">3,624</span> tokens</label
              >
              <div class="budget-slider">
                <input
                  type="range"
                  id="anthropicBudgetSlider"
                  min="1000"
                  max="10000"
                  value="3624"
                />
              </div>
              <div class="budget-help">
                Higher budgets may allow you to achieve more comprehensive and
                nuanced reasoning
              </div>
            </div>

            <div class="model-info">
              <div class="feature-list">
                <div class="feature">✓ Supports images</div>
                <div class="feature">✓ Supports browser use</div>
                <div class="feature">✓ Supports prompt caching</div>
              </div>
              <div class="pricing-info">
                <div>Max output: 8,192 tokens</div>
                <div>Input price: $3.00/million tokens</div>
                <div>Cache writes price: $3.75/million tokens</div>
                <div>Cache reads price: $0.30/million tokens</div>
                <div>Output price: $15.00/million tokens</div>
              </div>
            </div>
          </section>
        </div>

        <!-- Custom Instructions -->
        <section class="config-section">
          <h2>Custom Instructions</h2>
          <div class="form-group">
            <textarea
              id="customInstructions"
              placeholder="ユーザーへの出力は常に日本語でお願いします"
              rows="6"
            ></textarea>
            <div class="info-text">
              These instructions are added to the end of the system prompt sent
              with every request.
            </div>
          </div>
        </section>

        <!-- Save Button -->
        <div class="save-section">
          <button class="save-btn" id="saveBtn">設定を保存</button>
          <div class="save-status" id="saveStatus"></div>
        </div>
      </main>
    </div>

    <script src="options.js"></script>
  </body>
</html>
